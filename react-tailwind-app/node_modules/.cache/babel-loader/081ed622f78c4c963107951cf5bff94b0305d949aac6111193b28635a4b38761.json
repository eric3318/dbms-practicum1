{"ast":null,"code":"// src/services/playtimeService.js\n\nconst BASE_URL = \"http://localhost/dbms-practicum1/api/analytics/playtime.php\";\n\n// Get average playtime per player\nexport const getAveragePlaytimePerPlayer = async () => {\n  const response = await fetch(`${BASE_URL}?type=avg`);\n  if (!response.ok) throw new Error(\"Failed to fetch average playtime\");\n  return await response.json(); // Already an array of { player_id, average_playtime }\n};\n\n// Get total weekly playtime, optionally by player ID\nexport const getWeeklyPlaytimeByPlayer = async (playerId = null) => {\n  const url = playerId ? `${BASE_URL}?type=weekly&id=${playerId}` : `${BASE_URL}?type=weekly`;\n  const response = await fetch(url);\n  if (!response.ok) throw new Error(\"Failed to fetch weekly playtime\");\n  const result = await response.json();\n\n  // In your PHP response: { playtime_per_week: [...] }\n  return result.playtime_per_week || []; // Ensure it's an array in all cases\n};","map":{"version":3,"names":["BASE_URL","getAveragePlaytimePerPlayer","response","fetch","ok","Error","json","getWeeklyPlaytimeByPlayer","playerId","url","result","playtime_per_week"],"sources":["/Users/ziyixu/LocalDocuments/CS5200/Practicum1/react-tailwind-app/src/services/playtimeService.js"],"sourcesContent":["// src/services/playtimeService.js\n\nconst BASE_URL = \"http://localhost/dbms-practicum1/api/analytics/playtime.php\";\n\n// Get average playtime per player\nexport const getAveragePlaytimePerPlayer = async () => {\n  const response = await fetch(`${BASE_URL}?type=avg`);\n  if (!response.ok) throw new Error(\"Failed to fetch average playtime\");\n  return await response.json(); // Already an array of { player_id, average_playtime }\n};\n\n// Get total weekly playtime, optionally by player ID\nexport const getWeeklyPlaytimeByPlayer = async (playerId = null) => {\n  const url = playerId\n    ? `${BASE_URL}?type=weekly&id=${playerId}`\n    : `${BASE_URL}?type=weekly`;\n\n  const response = await fetch(url);\n  if (!response.ok) throw new Error(\"Failed to fetch weekly playtime\");\n\n  const result = await response.json();\n\n  // In your PHP response: { playtime_per_week: [...] }\n  return result.playtime_per_week || []; // Ensure it's an array in all cases\n};\n"],"mappings":"AAAA;;AAEA,MAAMA,QAAQ,GAAG,6DAA6D;;AAE9E;AACA,OAAO,MAAMC,2BAA2B,GAAG,MAAAA,CAAA,KAAY;EACrD,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGH,QAAQ,WAAW,CAAC;EACpD,IAAI,CAACE,QAAQ,CAACE,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,kCAAkC,CAAC;EACrE,OAAO,MAAMH,QAAQ,CAACI,IAAI,CAAC,CAAC,CAAC,CAAC;AAChC,CAAC;;AAED;AACA,OAAO,MAAMC,yBAAyB,GAAG,MAAAA,CAAOC,QAAQ,GAAG,IAAI,KAAK;EAClE,MAAMC,GAAG,GAAGD,QAAQ,GAChB,GAAGR,QAAQ,mBAAmBQ,QAAQ,EAAE,GACxC,GAAGR,QAAQ,cAAc;EAE7B,MAAME,QAAQ,GAAG,MAAMC,KAAK,CAACM,GAAG,CAAC;EACjC,IAAI,CAACP,QAAQ,CAACE,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,iCAAiC,CAAC;EAEpE,MAAMK,MAAM,GAAG,MAAMR,QAAQ,CAACI,IAAI,CAAC,CAAC;;EAEpC;EACA,OAAOI,MAAM,CAACC,iBAAiB,IAAI,EAAE,CAAC,CAAC;AACzC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}